define(["jquery","moment","../Settings","TYPO3/CMS/Formlog/knockout-daterangepicker/daterangepicker"],function(f,m,u){f(function(){var a,r=f("#filter-form"),e=f("#submissiondate-filter"),n=f(e.data("startDateField")),i=f(e.data("endDateField")),o="YYYY-MM-DDTHH:mm:ssZ",t=e.data("translations"),s={last30days:[m().subtract(29,"days"),m()],lastYear:[m().subtract(1,"year").add(1,"day"),m()],other:"custom"},l={};for(a in s){var d=a;l[d=a in t.ranges?t.ranges[a]:d]=s[a]}m.locale(u.language);var c=f.fn.daterangepicker.Period.title;f.fn.daterangepicker.Period.title=function(a){return a in t.periods?t.periods[a]:c(a)},e.daterangepicker({timeZone:u.timeZone,locale:t.labels,firstDayOfWeek:m.localeData().firstDayOfWeek(),startDate:n.val(),endDate:i.val(),ranges:l,callback:function(a,e,t){n.val(a.format(o)),i.val(e.format(o)),r.submit()}})})});