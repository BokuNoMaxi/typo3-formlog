define(["jquery","TYPO3/CMS/Formlog/moment","../Settings","TYPO3/CMS/Formlog/daterangepicker/daterangepicker"],function(g,m,c){g(function(){var a,t=g("#filter-form"),e=g("#submissiondate-filter"),r=g(e.data("startDateField")),n=g(e.data("endDateField")),l="YYYY-MM-DDTHH:mm:ssZ",s=e.data("translations"),i={last30days:[m().subtract(29,"days"),m()],lastYear:[m().subtract(1,"year").add(1,"day"),m()]},o={};for(a in i){var d=a;o[d=a in s.ranges?s.ranges[a]:d]=i[a]}m.locale(c.language),e.daterangepicker({locale:s.labels,startDate:r.val()?m(r.val(),l):void 0,endDate:n.val()?m(n.val(),l):void 0,ranges:o,showCustomRangeLabel:!0},function(a,e){r.val(a.format(l)),n.val(e.format(l)),t.submit()})})});